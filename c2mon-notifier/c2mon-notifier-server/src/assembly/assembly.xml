<?xml version="1.0" encoding="UTF-8"?>
<assembly
   xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">

   <id>install</id>

   <formats>
      <format>tar.gz</format>
   </formats>

   <!--  do not include base directory -->
   <includeBaseDirectory>false</includeBaseDirectory>

   <dependencySets>
      <dependencySet>
         <outputDirectory>/lib</outputDirectory>
         <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}
                        </outputFileNameMapping>
         <fileMode>0644</fileMode>
      </dependencySet>
   </dependencySets>


   <fileSets>
      <fileSet>
         <directory>deployment/conf</directory>
         <directoryMode>0755</directoryMode>
         <includes>
            <include>log4j.properties</include>
            <include>config.properties</include>
         </includes>
         <fileMode>0700</fileMode>
         <outputDirectory>conf</outputDirectory>
      </fileSet>
      
      <fileSet>
         <directory>templates</directory>
         <directoryMode>0755</directoryMode>
         <includes>
            <include>*</include>
            </includes>
         <fileMode>0500</fileMode>
         <outputDirectory>templates</outputDirectory>
      </fileSet>
   </fileSets>
  
   
   

   <files>
      <!--  copy changelog -->
      <file>
         <source>${basedir}/changelog.txt</source>
         <outputDirectory>/</outputDirectory>
         <destName>changelog.txt</destName>
         <lineEnding>unix</lineEnding>
         <fileMode>0444</fileMode>
      </file>

      <!--  deployment descriptor -->
      <file>
         <source>${basedir}/deployment/deployment.xml</source>
         <outputDirectory>/</outputDirectory>
         <destName>deployment.xml</destName>
         <lineEnding>unix</lineEnding>
         <fileMode>0444</fileMode>
      </file>
   </files>
</assembly>