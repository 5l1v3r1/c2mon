<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration
  PUBLIC "-//ibatis.apache.org//DTD Config 3.0//EN"
  "http://ibatis.apache.org/dtd/ibatis-3-config.dtd">

<configuration>
  <typeAliases>
    <typeAlias alias="ShortTermLogHistoryRequestBean"  type="cern.c2mon.client.history.dbaccess.beans.ShortTermLogHistoryRequestBean" />
    <typeAlias alias="InitialRecordHistoryRequestBean" type="cern.c2mon.client.history.dbaccess.beans.InitialRecordHistoryRequestBean" />
    <typeAlias alias="SupervisionEventRequestBean" type="cern.c2mon.client.history.dbaccess.beans.SupervisionEventRequestBean" />
    <typeAlias alias="SavedHistoryRequestBean" type="cern.c2mon.client.history.dbaccess.beans.SavedHistoryRequestBean" />
    <typeAlias alias="DailySnapshotRequestBean" type="cern.c2mon.client.history.dbaccess.beans.DailySnapshotRequestBean" />
    <typeAlias alias="HistoryRecord" type="cern.c2mon.client.history.dbaccess.beans.HistoryRecordBean" />
    <typeAlias alias="SavedHistoryEventRecord" type="cern.c2mon.client.history.dbaccess.beans.SavedHistoryEventRecordBean" />
    <typeAlias alias="DataTagQuality" type="cern.tim.shared.common.datatag.DataTagQuality" />
    <typeAlias alias="SupervisionRecordBean" type="cern.c2mon.client.history.dbaccess.beans.SupervisionRecordBean" />
    <typeAlias alias="Timestamp" type="java.sql.Timestamp" />
    <typeAlias alias="Date" type="java.util.Date" />
    <typeAlias alias="SupervisionEntity" type="cern.tim.shared.common.supervision.SupervisionConstants$SupervisionEntity" />
    <typeAlias alias="SupervisionStatus" type="cern.tim.shared.common.supervision.SupervisionConstants$SupervisionStatus" />    
    <typeAlias alias="SavedHistoryEventBean" type="cern.c2mon.client.history.dbaccess.beans.SavedHistoryEventBean" />
  </typeAliases>
  
  <typeHandlers>
    <typeHandler 
        javaType="cern.tim.shared.common.datatag.DataTagQuality" 
        jdbcType="VARCHAR" 
        handler="cern.c2mon.shared.client.tag.ibatis.DataTagQualityTypeHandler" />
  </typeHandlers>
  
  <environments default="development">
    <environment id="development">
      <transactionManager type="JDBC" />
      <dataSource type="POOLED">
        <property name="driver" value="${jdbc.ro.driver}" />
        <property name="url" value="${jdbc.ro.url}" />
        <property name="username" value="${jdbc.ro.user}" />
        <property name="password" value="${jdbc.ro.password}" />
        <property name="poolPingEnabled" value="true"/>
        <property name="poolPingQuery" value="SELECT 1 FROM DUAL"/>
        <!-- <property name="poolPingConnectionsNotUsedFor" value=""/>  -->
        
        <property name="poolMaximumIdleConnections" value="3"/>
        <property name="poolMaximumCheckoutTime" value="60000"/>
      </dataSource>
    </environment>
  </environments>
  
  <mappers>
    <mapper resource="cern/c2mon/client/history/dbaccess/sqlmaps/history-mapping.xml"/>
    <mapper resource="cern/c2mon/client/history/dbaccess/sqlmaps/saved-history-mapping.xml"/>
    <mapper resource="cern/c2mon/client/history/dbaccess/sqlmaps/saved-history-events-mapping.xml"/>
  </mappers>
</configuration>
