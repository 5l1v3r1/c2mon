<?xml version="1.0" encoding="UTF-8" ?>
<tc:tc-config xmlns:tc="http://www.terracotta.org/config"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.terracotta.org/schema/terracotta-8.xsd">
  <tc-properties>
     <!-- Evenutally all this is obsolete -->
     <property name="l1.objectmanager.remote.maxDNALRUSize" value="200000" />
     <property name="l1.cachemanager.criticalThreshold" value="90" />
     <property name="l1.cachemanager.threshold" value="70" />
     
     <!-- allow a client to attempt reconnection to a TC server (for 5 seconds, 2 is default) -->          
     <property name="l2.l1reconnect.enabled" value="true" />
     <property name="l2.l1reconnect.timeout.millis" value="5000" />  
     <!-- allow TC mirror to attempt to reconnect for longer due to network disruption -->
     <property name="l2.nha.tcgroupcomm.reconnect.enabled" value="true" />       
     <property name="l2.nha.tcgroupcomm.reconnect.timeout" value="5000" />  
  </tc-properties>  
  <servers>
    <server host="tim-cache-pro1" name="TIM cache1">
      <!-- Specifies the path where the server should store its data. -->
      <data>/opt/terracotta/log/server-data</data>
      <logs>/opt/terracotta/log/server-logs</logs>
      <!-- Specify the port where the server should listen for client traffic. -->
      <tsa-port>9510</tsa-port>
      <!-- The port that the Terracotta server uses to communicate with other Terracotta servers -->
      <tsa-group-port>9530</tsa-group-port>
      <jmx-port>9520</jmx-port>
      
      <!-- Enables BigMemory on the server. -->
      <offheap>
        <enabled>true</enabled>
        <maxDataSize>4g</maxDataSize>
      </offheap>
    </server>
    
    <server host="tim-cache-pro2" name="TIM cache2 (mirror)">
      <data>/opt/terracotta/log/server-data</data>
      <logs>/opt/terracotta/log/server-logs</logs>
      <tsa-port>9511</tsa-port>
      <tsa-group-port>9531</tsa-group-port>
      <jmx-port>9521</jmx-port>
      <offheap>
        <enabled>true</enabled>
        <maxDataSize>4g</maxDataSize>
      </offheap>
    </server>
   
    <garbage-collection>
      <enabled>true</enabled>
      <verbose>true</verbose>
      <!-- 
        How often should distributed garbage collection
        be performed, in seconds? Default: 3600 (60 minutes)
      -->
      <interval>7200</interval>
    </garbage-collection>
   
    <!-- Fast Restartability must be added explicitly. -->
    <restartable enabled="true"/>
    <!-- By default the window is 120 seconds. -->
    <client-reconnect-window>5</client-reconnect-window>
  </servers>
  <clients>
    <logs>%(c2mon.home)/log/TC-client-logs-%(c2mon.process.name)</logs>
  </clients>
</tc:tc-config>
