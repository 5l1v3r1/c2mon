<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:util="http://www.springframework.org/schema/util"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
	http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

<import resource="classpath:resources/daq-core-common.xml"/>

<bean id="driverKernel" class="cern.c2mon.daq.common.DriverKernel">
  <property name="primaryRequestSender" ref="primaryRequestSender"/>
  <property name="processMessageReceivers">
    <list>      
      <ref bean="activeMessageReceiver"/>              
    </list>
  </property>
</bean>

<!-- initialize the ProcessRequestSender; can switch here between implementations (No dummy implementation needed if local conf used)-->
<bean id="primaryRequestSender" class="cern.c2mon.daq.common.messaging.impl.DummyRequestSender"/> 

<!-- initialize the ProcessMessageReceiver; switch here between implementations (Dummy implementation available) -->
<!--<bean id="processMessageReceiver" class="cern.c2mon.daq.common.messaging.impl.DirectoryMessageReceiver"/>-->
<bean id="activeMessageReceiver" class="cern.c2mon.daq.common.messaging.impl.DummyMessageReceiver"/>

<!-- initialize the FilterMessageSender; switch here between implementations (Dummy implementation available) -->
<!--<bean id="filterMessageSender" class="cern.c2mon.daq.filter.impl.DummyFilterSender"/>-->
<bean id="filterMessageSender" class="cern.c2mon.daq.filter.impl.DummyFilterSender"/>

<!-- initialize the JmsSenders; any number of these can be plugged into the ProcessMessageSender below -->
<bean id="dummyJmsSender" class="cern.c2mon.daq.common.messaging.impl.DummyJmsSender">
    <property name="name" value="dummySender"/>
</bean>


<!-- set the JMS message senders that will be used; ActiveMQ beans are initialized
     automatically and can be wired in here -->
<bean id="processMessageSender" class="cern.c2mon.daq.common.messaging.impl.ProcessMessageSender">
  <property name="jmsSenders">
    <list>
      <ref bean="dummyJmsSender"/>
    </list>
  </property>
</bean>

</beans>